# Build an API

WayScript allows you to configure your Lair to build an serverless API endpoint in minutes.

### Create `api.py`

Use the boilerplate code below to create an `api.py` file in your Lair’s root directory. See [File system](../building-tools/file-system.md) for more details on how to manipulate files in your workspace file system.

![](https://codahosted.io/docs/2kDMDaZ6QP/blobs/bl-Iqkx-tphjD/3d584a55f32dbc8c4e8cf462e3eb9867bbcaf47440586f29d25f94abb1d90be28f4433566d59fc5bfeef80fb761d4e93785f99ec6a64bd561d70e8c2785ae52f342dcf4729de3a496500f8f7ee8d21e20f6ee3321ca9844abc41275391641b8d1fff3ebe)

#### Boilerplate `api.py`

```python
from wayscript import context
from wayscript.triggers import http_trigger

# Get payload for request event
request_payload = context.get_event()

# Parse header and request body from request payload
request_header = request_payload['data'].get('headers')
request_body = request_payload['data'].get('data')

# Specify response payload
response_payload = {"hello": "world"}
response_headers = {"content-type": "application/json"}
status_code = 200

# Send response
http_trigger.send_response(data=response_payload, headers=response_headers, status_code=status_code)
```

### Configure `http` trigger

Open your Lair’s `.triggers` file and add a new `http` trigger. Create a name for your trigger and input the following run command. See [Triggers](../building-tools/triggers.md) for more details.

```bash
$ python api.py
```

{% hint style="info" %}
If you are using the WayScript X desktop app, you must press "Push" to sync your new and modified files to remote (see [file-system.md](../building-tools/file-system.md "mention") or more details).
{% endhint %}

### Test your API in development environment

Navigate to the `*.wayscript.cloud` endpoint generated by your `http` trigger to see your simple API in action!

![](<../.gitbook/assets/Screen Shot 2021-09-14 at 1.55.49 PM.png>)

### Deploy to production environment

Once you have finished testing, press “Deploy” to create a production environment for your API. Select `<Lair_name>.prod` in the Lair selector menu and view the `http` trigger to access your API’s production endpoint. See [Hosted environments](../building-tools/deployments.md) for more details.

{% hint style="warning" %}
By default, your Lair's endpoints are protected against unauthenticated requests. See [endpoints.md](../building-tools/endpoints.md "mention") on how to public expose your endpoints or authenticate using your application key.
{% endhint %}
