# WayScript SDK

Your Lairs have exclusive access to the WayScript SDK, which offers a the following packages to help with tool development:

* `wayscript.context` - access process execution metadata, such as event payload
* `wayscript.triggers` - call trigger-specific methods
* `wayscript.secret_manager` - update secrets in your vault

### Python

#### `wayscript.context`

```python
from wayscript import context
```

| Method                                                     | Description                                            | Parameters               | Return Type |
| ---------------------------------------------------------- | ------------------------------------------------------ | ------------------------ | ----------- |
| `context.get_event()`                                      | Get request event payload                              | \<none>                  | `dict`      |
| `context.get_lair()`                                       | Get Lair name                                          | \<none>                  | `dict`      |
| `context.get_lair_trigger()`                               | Get trigger name                                       | \<none>                  | `dict`      |
| context.get\_lair\_url()                                   | Get default lair endpoint                              | \<none>                  | `str`       |
| `context.get_process()`                                    | Get process id                                         | \<none>                  | `dict`      |
| `context.get_user_by_application_key(`<`application_key>)` | Get metadata for workspace member from application key | `application_key`: `str` | `dict`      |
| `context.get_workspace()`                                  | Get Workspace name                                     | \<none>                  | `dict`      |

{% hint style="info" %}
The `get_user_by_application_key` method requires fetching the [application key](../../platform/lairs/endpoints.md) from  the header of the request made to your Lair. We provide an [example](example-identify-requester-to-protected-endpoints.md) on how to access the request header in your tool.&#x20;
{% endhint %}

#### `wayscript.triggers`

```python
import wayscript.triggers as triggers
```

| Method                                                            | Description                                                                                                                                                                               | Parameters                                                                                                                                                                               | Return Type |
| ----------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `triggers.http_trigger.send_response(data, headers, status_code)` | <p>Return response to endpoint generated by <code>http</code> trigger<br><a data-mention href="example-send-response-to-http-trigger.md">example-send-response-to-http-trigger.md</a></p> | <ul><li><code>data</code>: <code>dict</code> (json) or other specified type</li><li><code>headers</code>: <code>dict</code></li><li><code>status_code</code>: <code>int</code></li></ul> | `dict`      |

#### `wayscript.secret_manager`

```python
from wayscript import secret_manager
```

| Method                                      | Description                    | Parameters                                                                                        | Return Type |
| ------------------------------------------- | ------------------------------ | ------------------------------------------------------------------------------------------------- | ----------- |
| `secret_manager.set_secret(<key>, <value>)` | Set the value of a lair secret | <ul><li><code>key</code>: <code>str</code></li><li><code>value</code>: <code>str</code></li></ul> | `None`      |

### JavaScript

```javascript
const wayscript = require("wayscript");
```

#### `wayscript.context`

| Method                                               | Description                                            | Parameters                  | Return Type |
| ---------------------------------------------------- | ------------------------------------------------------ | --------------------------- | ----------- |
| `context.getEvent()`                                 | Get event payload                                      | \<none>                     | `object`    |
| `context.getLair()`                                  | Get Lair name                                          | \<none>                     | `object`    |
| `context.getLairTrigger()`                           | Get trigger name                                       | \<none>                     | `object`    |
| context.getLairUrl()                                 | Get default lair endpoint                              | \<none>                     | `string`    |
| `context.getProcess()`                               | Get process id                                         | \<none>                     | `object`    |
| `context.getUserByApplicationKey(<application_key>)` | Get metadata for workspace member from application key | `application_key`: `string` | `object`    |
| `context.getWorkspace()`                             | Get Workspace name                                     | \<none>                     | `object`    |

{% hint style="info" %}
The `getUserByApplicationKey` method requires fetching the [application key](../../platform/lairs/endpoints.md) from  the header of the request made to your Lair. We provide an [example](example-identify-requester-to-protected-endpoints.md) on how to access the request header in your tool.&#x20;
{% endhint %}

**`wayscript.http_trigger`**

| Method                                                  | Description                                                                                                                                                                               | Parameters                                                                                                                                                                                      | Return Type |
| ------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `http_trigger.sendResponse(data, headers, status_code)` | <p>Return response to endpoint generated by <code>http</code> trigger<br><a data-mention href="example-send-response-to-http-trigger.md">example-send-response-to-http-trigger.md</a></p> | <ul><li><code>data</code>: <code>object</code> (json) or other specified type</li><li><code>headers</code>: <code>object</code></li><li><code>status_code</code>: <code>number</code></li></ul> | `object`    |

#### `wayscript.secret_manager`

| Method                                     | Description                    | Parameters                                                                                              | Return Type |
| ------------------------------------------ | ------------------------------ | ------------------------------------------------------------------------------------------------------- | ----------- |
| `secret_manager.setSecret(<key>, <value>)` | Set the value of a lair secret | <ul><li><code>key</code>: <code>string</code></li><li><code>value</code>: <code>string</code></li></ul> | `undefined` |

### Golang&#x20;

{% hint style="warning" %}
We are working on creating a Go SDK. In the meantime, code snippets for common WayScript methods can be found here: [https://github.com/wayscript/wayscript-golang](https://github.com/wayscript/wayscript-golang)
{% endhint %}
